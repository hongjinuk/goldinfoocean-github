// Translation data for the application
const translations = {
    ko: {
        header: {
            title: "ðŸŒŸ ê¸ˆë¹› ì •ë³´ ë°”ë‹¤ ðŸŒŸ",
            subtitle: "Gold Info Ocean - ì„±ê²© ë¶„ì„ í”Œëž«í¼"
        },
        tabs: {
            bloodtype: "ðŸ©¸ í˜ˆì•¡í˜•",
            mbti: "ðŸ§  MBTI",
            hormone: "ðŸ’Š í˜¸ë¥´ëª¬ ì„±í–¥",
            faceshape: "ðŸ˜Š ê´€ìƒí•™",
            palmreading: "âœ‹ ì†ê¸ˆ",
            constitution: "ðŸ¥ ì²´ì§ˆ",
            numerology: "ðŸ”¢ ìˆ˜ë¹„í•™",
            zodiac: "â­ ë³„ìžë¦¬",
            chinesezodiac: "ðŸ‰ ë ",
            enneagram: "ðŸŽ­ ì—ë‹ˆì–´ê·¸ëž¨",
            profile: "ðŸ‘¤ ë‚´ í”„ë¡œí•„",
            contacts: "ðŸ“‹ ì§€ì¸ ê´€ë¦¬"
        },
        bloodtype: {
            title: "ðŸ©¸ í˜ˆì•¡í˜• (Blood Type)",
            description: "í˜ˆì•¡í˜•ë³„ ì„±ê²© íŠ¹ì„±ê³¼ ê¶í•© ì •ë³´ìž…ë‹ˆë‹¤.",
            personality: "ì„±ê²©",
            strengths: "ìž¥ì ",
            weaknesses: "ë‹¨ì ",
            compatibility: "ê¶í•©"
        },
        mbti: {
            title: "ðŸ§  MBTI",
            description: "16ê°€ì§€ ì„±ê²© ìœ í˜• ë¶„ì„ìž…ë‹ˆë‹¤. ìžì‹ ì˜ ìœ í˜•ì„ í™•ì¸í•´ë³´ì„¸ìš”!"
        },
        hormone: {
            title: "ðŸ’Š í˜¸ë¥´ëª¬ ì„±í–¥",
            description: "í˜¸ë¥´ëª¬ ì„±í–¥ì— ë”°ë¥¸ ì„±ê²© íŠ¹ì„±ê³¼ ê±´ê°• ê´€ë¦¬ ë°©ë²•ìž…ë‹ˆë‹¤."
        },
        faceshape: {
            title: "ðŸ˜Š ê´€ìƒí•™ (ì–¼êµ´í˜•)",
            description: "ì–¼êµ´í˜•ì— ë”°ë¥¸ ì„±ê²© íŠ¹ì„±ê³¼ ìš´ì„¸ ë¶„ì„ìž…ë‹ˆë‹¤."
        },
        palmreading: {
            title: "âœ‹ ì†ê¸ˆ",
            description: "ì†ê¸ˆìœ¼ë¡œ ë³´ëŠ” ì„±ê²©, ê±´ê°•, ìš´ì„¸ ë¶„ì„ìž…ë‹ˆë‹¤."
        },
        constitution: {
            title: "ðŸ¥ ì‚¬ìƒì²´ì§ˆ (Four Constitution Medicine)",
            description: "í•œì˜í•™ì˜ ì‚¬ìƒì²´ì§ˆë¡ ì— ë”°ë¥¸ ì²´ì§ˆ ë¶„ì„ìž…ë‹ˆë‹¤. ê° ì²´ì§ˆë§ˆë‹¤ ì„±ê²©, ê±´ê°•, ìŒì‹ ë“±ì´ ë‹¤ë¦…ë‹ˆë‹¤."
        },
        numerology: {
            title: "ðŸ”¢ ìˆ˜ë¹„í•™ (Numerology)"
        },
        zodiac: {
            title: "â­ ë³„ìžë¦¬ (Zodiac)"
        },
        chinesezodiac: {
            title: "ðŸ‰ ë  (Chinese Zodiac)"
        },
        enneagram: {
            title: "ðŸŽ­ ì—ë‹ˆì–´ê·¸ëž¨ (Enneagram)"
        },
        profile: {
            title: "ðŸ‘¤ ë‚´ í”„ë¡œí•„ ê´€ë¦¬",
            inputTitle: "ë‚´ ì •ë³´ ìž…ë ¥",
            name: "ì´ë¦„",
            interests: "ê´€ì‹¬ì‚¬ (ì‰¼í‘œë¡œ êµ¬ë¶„)",
            bloodtype: "í˜ˆì•¡í˜•",
            mbti: "MBTI",
            save: "ì €ìž¥"
        },
        contacts: {
            title: "ðŸ“‹ ì§€ì¸ ê´€ë¦¬",
            addTitle: "ì§€ì¸ ì¶”ê°€",
            name: "ì´ë¦„",
            relationship: "ê´€ê³„ (ì˜ˆ: ì¹œêµ¬, ê°€ì¡±)",
            phone: "ì „í™”ë²ˆí˜¸",
            bloodtype: "í˜ˆì•¡í˜•",
            notes: "ë©”ëª¨",
            add: "ì¶”ê°€"
        },
        footer: {
            copyright: "Â© 2026 Gold Info Ocean. All rights reserved."
        }
    },
    en: {
        header: {
            title: "ðŸŒŸ Gold Info Ocean ðŸŒŸ",
            subtitle: "Gold Info Ocean - Personality Analysis Platform"
        },
        tabs: {
            bloodtype: "ðŸ©¸ Blood Type",
            mbti: "ðŸ§  MBTI",
            hormone: "ðŸ’Š Hormone Type",
            faceshape: "ðŸ˜Š Face Reading",
            palmreading: "âœ‹ Palm Reading",
            constitution: "ðŸ¥ Constitution",
            numerology: "ðŸ”¢ Numerology",
            zodiac: "â­ Zodiac",
            chinesezodiac: "ðŸ‰ Chinese Zodiac",
            enneagram: "ðŸŽ­ Enneagram",
            profile: "ðŸ‘¤ My Profile",
            contacts: "ðŸ“‹ Contacts"
        },
        bloodtype: {
            title: "ðŸ©¸ Blood Type",
            description: "Personality traits and compatibility information by blood type.",
            personality: "Personality",
            strengths: "Strengths",
            weaknesses: "Weaknesses",
            compatibility: "Compatibility"
        },
        mbti: {
            title: "ðŸ§  MBTI",
            description: "Analysis of 16 personality types. Find your type!"
        },
        hormone: {
            title: "ðŸ’Š Hormone Type",
            description: "Personality traits and health management methods based on hormone tendencies."
        },
        faceshape: {
            title: "ðŸ˜Š Face Reading",
            description: "Personality analysis and fortune based on face shape."
        },
        palmreading: {
            title: "âœ‹ Palm Reading",
            description: "Personality, health, and fortune analysis through palm reading."
        },
        constitution: {
            title: "ðŸ¥ Four Constitution Medicine",
            description: "Constitutional analysis based on Korean traditional medicine. Each constitution has different personality, health, and dietary characteristics."
        },
        numerology: {
            title: "ðŸ”¢ Numerology"
        },
        zodiac: {
            title: "â­ Zodiac"
        },
        chinesezodiac: {
            title: "ðŸ‰ Chinese Zodiac"
        },
        enneagram: {
            title: "ðŸŽ­ Enneagram"
        },
        profile: {
            title: "ðŸ‘¤ My Profile",
            inputTitle: "Enter Your Information",
            name: "Name",
            interests: "Interests (comma separated)",
            bloodtype: "Blood Type",
            mbti: "MBTI",
            save: "Save"
        },
        contacts: {
            title: "ðŸ“‹ Contact Management",
            addTitle: "Add Contact",
            name: "Name",
            relationship: "Relationship (e.g., Friend, Family)",
            phone: "Phone Number",
            bloodtype: "Blood Type",
            notes: "Notes",
            add: "Add"
        },
        footer: {
            copyright: "Â© 2026 Gold Info Ocean. All rights reserved."
        }
    }
};

// Current language state
let currentLanguage = 'ko';

// Function to get translation
function t(key) {
    const keys = key.split('.');
    let value = translations[currentLanguage];
    
    for (const k of keys) {
        if (value && typeof value === 'object') {
            value = value[k];
        } else {
            return key; // Return key if translation not found
        }
    }
    
    return value || key;
}

// Function to update all translations on the page
function updatePageTranslations() {
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = t(key);
    });
    
    // Update placeholders
    const namePlaceholder = document.getElementById('profile-name');
    if (namePlaceholder) namePlaceholder.placeholder = t('profile.name');
    
    const interestsPlaceholder = document.getElementById('profile-interests');
    if (interestsPlaceholder) interestsPlaceholder.placeholder = t('profile.interests');
    
    const profileBloodtypePlaceholder = document.getElementById('profile-bloodtype');
    if (profileBloodtypePlaceholder) profileBloodtypePlaceholder.placeholder = t('profile.bloodtype');
    
    const profileMbtiPlaceholder = document.getElementById('profile-mbti');
    if (profileMbtiPlaceholder) profileMbtiPlaceholder.placeholder = t('profile.mbti');
    
    const contactNamePlaceholder = document.getElementById('contact-name');
    if (contactNamePlaceholder) contactNamePlaceholder.placeholder = t('contacts.name');
    
    const contactRelationshipPlaceholder = document.getElementById('contact-relationship');
    if (contactRelationshipPlaceholder) contactRelationshipPlaceholder.placeholder = t('contacts.relationship');
    
    const contactPhonePlaceholder = document.getElementById('contact-phone');
    if (contactPhonePlaceholder) contactPhonePlaceholder.placeholder = t('contacts.phone');
    
    const contactBloodtypePlaceholder = document.getElementById('contact-bloodtype');
    if (contactBloodtypePlaceholder) contactBloodtypePlaceholder.placeholder = t('contacts.bloodtype');
    
    const contactNotesPlaceholder = document.getElementById('contact-notes');
    if (contactNotesPlaceholder) contactNotesPlaceholder.placeholder = t('contacts.notes');
    
    // Update section titles and descriptions
    updateSectionContent();
}

// Function to update section content
function updateSectionContent() {
    // Blood Type section
    const bloodtypeSection = document.querySelector('#bloodtype h2');
    if (bloodtypeSection) bloodtypeSection.textContent = t('bloodtype.title');
    
    const bloodtypeDesc = document.querySelector('#bloodtype .section-description');
    if (bloodtypeDesc) bloodtypeDesc.textContent = t('bloodtype.description');
    
    // MBTI section
    const mbtiSection = document.querySelector('#mbti h2');
    if (mbtiSection) mbtiSection.textContent = t('mbti.title');
    
    const mbtiDesc = document.querySelector('#mbti .section-description');
    if (mbtiDesc) mbtiDesc.textContent = t('mbti.description');
    
    // Hormone section
    const hormoneSection = document.querySelector('#hormone h2');
    if (hormoneSection) hormoneSection.textContent = t('hormone.title');
    
    const hormoneDesc = document.querySelector('#hormone .section-description');
    if (hormoneDesc) hormoneDesc.textContent = t('hormone.description');
    
    // Face Shape section
    const faceshapeSection = document.querySelector('#faceshape h2');
    if (faceshapeSection) faceshapeSection.textContent = t('faceshape.title');
    
    const faceshapeDesc = document.querySelector('#faceshape .section-description');
    if (faceshapeDesc) faceshapeDesc.textContent = t('faceshape.description');
    
    // Palm Reading section
    const palmreadingSection = document.querySelector('#palmreading h2');
    if (palmreadingSection) palmreadingSection.textContent = t('palmreading.title');
    
    const palmreadingDesc = document.querySelector('#palmreading .section-description');
    if (palmreadingDesc) palmreadingDesc.textContent = t('palmreading.description');
    
    // Constitution section
    const constitutionSection = document.querySelector('#constitution h2');
    if (constitutionSection) constitutionSection.textContent = t('constitution.title');
    
    const constitutionDesc = document.querySelector('#constitution .section-description');
    if (constitutionDesc) constitutionDesc.textContent = t('constitution.description');
    
    // Numerology section
    const numerologySection = document.querySelector('#numerology h2');
    if (numerologySection) numerologySection.textContent = t('numerology.title');
    
    // Zodiac section
    const zodiacSection = document.querySelector('#zodiac h2');
    if (zodiacSection) zodiacSection.textContent = t('zodiac.title');
    
    // Chinese Zodiac section
    const chinesezodiacSection = document.querySelector('#chinesezodiac h2');
    if (chinesezodiacSection) chinesezodiacSection.textContent = t('chinesezodiac.title');
    
    // Enneagram section
    const enneagramSection = document.querySelector('#enneagram h2');
    if (enneagramSection) enneagramSection.textContent = t('enneagram.title');
    
    // Profile section
    const profileSection = document.querySelector('#profile h2');
    if (profileSection) profileSection.textContent = t('profile.title');
    
    const profileInputTitle = document.querySelector('#profile h3');
    if (profileInputTitle) profileInputTitle.textContent = t('profile.inputTitle');
    
    // Contacts section
    const contactsSection = document.querySelector('#contacts h2');
    if (contactsSection) contactsSection.textContent = t('contacts.title');
    
    const contactsAddTitle = document.querySelector('#contacts h3');
    if (contactsAddTitle) contactsAddTitle.textContent = t('contacts.addTitle');
    
    // Footer
    const footerText = document.querySelector('.app-footer p');
    if (footerText) footerText.textContent = t('footer.copyright');
}

// Function to toggle language
function toggleLanguage() {
    currentLanguage = currentLanguage === 'ko' ? 'en' : 'ko';
    
    // Update language button text
    const langText = document.getElementById('langText');
    if (langText) {
        langText.textContent = currentLanguage === 'ko' ? 'English' : 'í•œêµ­ì–´';
    }
    
    // Update all translations
    updatePageTranslations();
    
    // Save language preference
    localStorage.setItem('preferredLanguage', currentLanguage);
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function() {
    // Load saved language preference
    const savedLanguage = localStorage.getItem('preferredLanguage');
    if (savedLanguage && (savedLanguage === 'ko' || savedLanguage === 'en')) {
        currentLanguage = savedLanguage;
        const langText = document.getElementById('langText');
        if (langText) {
            langText.textContent = currentLanguage === 'ko' ? 'English' : 'í•œêµ­ì–´';
        }
    }
    
    // Apply initial translations
    updatePageTranslations();
});
